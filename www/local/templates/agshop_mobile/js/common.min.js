$(function(){$(".mobile-header").headroom({offset:20,tolerance:5}),$("input[type=number]").on("blur",function(){var e=$(this),o=e.attr("maxlength");$.isNumeric(o)&&e.val(e.val().substr(0,o))})}),$(function(){function e(){$(".mobile-aside-dropdown-content").each(function(e,o){var t=$(this).attr("data-dropdown"),i=$(this).children(),a=$(".mobile-aside-form-item__option").find("[data-dropdown='"+t+"']"),n=[];$(i).each(function(e,o){var t=$(this).find("input"),i=$(this).find(".custom-checkbox-default__info-title");t.prop("checked")&&n.push(i.text())}),a.empty();for(var s=0;s<n.length;s++)a.append("<span class='mobile-aside-dropdown__item'>"+n[s]+"</span>")})}$(".mobile-aside-filter-outer").on("click",function(){$(".mobile-aside-dropdown-outer").hasClass("show-dropdown")?$(".mobile-aside-dropdown-outer").removeClass("show-dropdown"):($("body").removeClass("noscroll"),$(".mobile-aside-filter").removeClass("show-filters"))}),$(".mobile-header-filter-btn").on("click",function(){$("body").addClass("noscroll"),$("body").removeClass("white-background"),$(".mobile-header-category").removeClass("show-category"),$(".mobile-header-caregory-btn").removeClass("active"),$(".typeahead").typeahead("val",""),$(".mobile-header-search__clear").removeClass("show-clear"),1!=$(".mobile-search-notfind").hasClass("disabled")&&$(".mobile-search-notfind").addClass("disabled"),$(".mobile-aside-filter").addClass("show-filters")}),$(".mobile-header-caregory-btn").on("click",function(){$("body").toggleClass("noscroll white-background"),$(".typeahead").typeahead("val",""),$(".mobile-header-search__clear").removeClass("show-clear"),1!=$(".mobile-search-notfind").hasClass("disabled")&&$(".mobile-search-notfind").addClass("disabled"),$(this).toggleClass("active"),$(".mobile-header-category").toggleClass("show-category")}),$(".mobile-aside-dropdown").on("click",function(){$(this).parent().hasClass("disabled")||$(this).next().addClass("show-dropdown")}),$(".dropdown-close").on("click",function(){$(".mobile-aside-dropdown-outer").removeClass("show-dropdown")}),$(".dropdown-save").on("click",function(){var e=$(this).attr("data-dropdown"),o=$(".mobile-aside-dropdown-outer").find("[data-dropdown='"+e+"']").children(),t=[],i=$(".mobile-aside-form-item__option").find("[data-dropdown='"+e+"']");$(o).each(function(e,o){var i=$(this).find("input"),a=$(this).find(".custom-checkbox-default__info-title");i.prop("checked")&&t.push(a.text())}),i.empty();for(var a=0;a<t.length;a++)i.append("<span class='mobile-aside-dropdown__item'>"+t[a]+"</span>");$(".mobile-aside-dropdown-outer").removeClass("show-dropdown")}),e(),$("#mobileFiltersReset").on("click",function(o){o.preventDefault(),document.location.hash="",$(".defaultCheck").each(function(e,o){if($(this).hasClass("dropdown-checkbox-all")){var t=$(this).parents(".mobile-aside-dropdown-content").children();$(t).each(function(e,o){$(this).find("input").prop("checked",!1)}),$(this).prop("checked",!0)}else $(this).prop("checked",!0)}),$(".defaultReset").each(function(e,o){$(this).prop("checked",!1)}),$(".defaultClear").each(function(e,o){$(this).val("")}),e()}),$("#mobileFiltersSubmit").on("click",function(e){e.preventDefault(),$("#mobileAsideFilterForm")[0].submit(),window.location.href=""}),$(".default-dropdown-label").on("click",function(e){var o=$(this).prev(),t=$(this).parents(".mobile-aside-dropdown-content"),i=t.children(),a=$(t).find(".dropdown-checkbox-all");o.hasClass("dropdown-checkbox-all")?(e.preventDefault(),o.prop("checked")?o.prop("checked",!1):($(i).each(function(e,o){$(this).find("input").prop("checked",!1)}),o.prop("checked",!0))):a.prop("checked",!1)})}),$(function(){function e(){$("body").css("min-height",innerHeight),$(".mobile-header-category").css("top",-1*innerHeight),$(".mobile-aside-filter").css("min-height",t),$(".mobile-aside-form-inner").css("min-height",innerHeight-33),$(".mobile-aside-dropdown-outer").css("min-height",innerHeight),$(".mobile-search-notfind").css("height",innerHeight-59),$(".mobile-search-status").css("max-height",innerHeight-59)}function o(){var o=null!=window.orientation?0!=window.orientation:window.innerWidth>window.innerHeight;i.toggleClass("landscape",o),t=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight),e()}var t=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight);e(),window.onorientationchange?window.onorientationchange=o:window.onresize=o;var i=$(document.body);o()}),$(function(){function e(){$(".typeahead").typeahead("val",""),$(".mobile-header-search__clear").removeClass("show-clear"),1!=$("body").hasClass("noscroll white-background")&&$("body").removeClass("noscroll"),1!=$(".mobile-search-notfind").hasClass("disabled")&&$(".mobile-search-notfind").addClass("disabled")}$("#multiple-datasets .tt-input").focus(function(){$(".mobile-header-search__clear").addClass("show-clear"),$(".mobile-search-status").addClass("show-results")}),$("#multiple-datasets .tt-input").blur(function(){$(this).val()||($(".mobile-header-search__clear").removeClass("show-clear"),$(".mobile-search-status").removeClass("show-results"),e())}),$(".mobile-header-search__clear").on("click",function(){e()}),$(".mobile-search-notfind__reset").on("click",function(){e()}),$("#multiple-datasets .tt-input").bind("typeahead:select",function(e,o){$("#mobileHeaderSearchForm")[0].submit()}),$("#multiple-datasets .tt-input").bind("typeahead:autocomplete",function(e,o){$("#mobileHeaderSearchForm")[0].submit()}),$("#multiple-datasets .tt-input").bind("typeahead:render",function(e,o){if(1!=$("body").hasClass("noscroll")&&$("body").addClass("noscroll"),$(".mobile-search-notfind").addClass("disabled"),$(".mobile-search-status").hasClass("tt-open")&&$(".mobile-search-status").hasClass("tt-empty")){$(".mobile-search-notfind").removeClass("disabled");var t=$("#multiple-datasets .tt-input").typeahead("val");$("#mobileSearchQuery").text(t)}})});